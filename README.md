# Exclave

A fork of SagerNet, the universal proxy toolchain for Android written in Kotlin.

## Download

  [<img src="images/get-it-on-github.png" alt="Get it on GitHub" height="80">](https://github.com/dyhkwong/Exclave/releases) [<img src="images/get-it-on-f-droid.png" alt="Get it on F-Droid" height="80">](https://f-droid.org/packages/com.github.dyhkwong.sagernet)

- [Na√ØveProxy plugin](https://github.com/klzgrad/naiveproxy/releases) (use upstream releases directly)
- [Hysteria 2 plugin](https://github.com/dyhkwong/Exclave/releases?q=hysteria-plugin-2)
- [Mieru plugin](https://github.com/dyhkwong/Exclave/releases?q=mieru-plugin-3) or [use upstream releases directly](https://github.com/enfein/NekoBoxPlugins/releases)
- [Juicity plugin](https://github.com/dyhkwong/Exclave/releases?q=juicity-plugin)
- [TUIC v5 plugin](https://github.com/dyhkwong/Exclave/releases?q=tuic-plugin-1)
- [Other obsolete plugins](https://github.com/dyhkwong/Exclave/releases/tag/0.12.0-0-legacy-plugins)

## Translation

Is Exclave not in your language, or the translation is incorrect or incomplete? Get involved in the translations on [Hosted Weblate](https://hosted.weblate.org/projects/exclave/).

## Report issues

Please report issues [here](https://github.com/dyhkwong/Exclave/issues). Do not report issues to upstream because the core used is heavily modified.

- For crashes, log file using "debug" log level is required. Log files may contain secret keys used to connect to servers. Please remove potential sensitive information or encrypt with GPG before posting them publicly.
- For memory leak and high system resource usage, pprof profile is required. Long press "About" - "Version" to enable pprof HTTP server settings and kill and restart the app to take effect.
- Encrypt with [this GPG public key](https://github.com/dyhkwong.gpg) if the issue contains sensitive information or you are reporting a vulnerability.

## FAQs and explanation of terms

[Wiki](https://github.com/dyhkwong/Exclave/wiki). The wiki may contain potentially distressing or otherwise sensitive content. Viewer discretion is advised.

## Build from source

- Install and configure Git, JDK, Android SDK, Android NDK, Go and [this Go Mobile fork](https://github.com/sagernet/gomobile).
- Use Git to clone this project. Also clone the corresponding submodule `library/core` and/or plugin submodules if needed.
- Replace `release.keystore` with your own. It can be generated by Java `keytool`.
- Append the following lines to your `local.properties`.
```
    KEYSTORE_PASS=your_keystore_pass
    ALIAS_NAME=your_alias_name
    ALIAS_PASS=your_alias_pass
```
- Build the app:
  - Build `libcore`: `./run lib core` [^1]
  - Download assets: `./gradlew :app:downloadAssets` (or update assets: `./gradlew :app:updateAssets`) [^2]
  - Build the app: `./gradlew :app:assembleOssRelease`
  - APK files are located in `app/build/outputs/apk/`
- Build a plugin:
  - Build native binaries: `./run plugin [hysteria2|juicity|mieru|tuic5|shadowquic|naive]` [^3]
  - Build the plugin:`./gradlew :plugin:[hysteria2|juicity|mieru|tuic5|shadowquic|naive]:assembleOssRelease`
  - Plugin APK files are located in `plugin/[hysteria2|juicity|mieru|tuic5|shadowquic|naive]/build/outputs/apk/`

[^1]: If `libcore` is compiled with `with_clash` tag, the app is applicable to GPL v3 only. If `libcore` is compiled without `with_clash` tag, the app is applicable to GPL v3 or later.
[^2]: Assets are data files downloaded and bundled directly and therefore not subjected to the restrictions of GPL.
[^3]: Plugins are applicable to GPL v3 or later. However, native binaries are executables that run in separate processes and therefore not subjected to the restrictions of GPL.

## License

    Copyright (C) 2023-2025 by dyhkwong
    Copyright (C) 2021 by nekohasekai <contact-sagernet@sekai.icu>

    This program (except for submodules) is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

    Submodule `library/core` (except for the files under the `clash` directory) is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

    Files under the `clash` directory of submodule `library/core` are free software: you can redistribute them and/or modify them under the terms of the GNU General Public License as published by the Free Software Foundation, version 3.

    This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

    You should have received a copy of the GNU General Public License along with this program. If not, see <https://www.gnu.org/licenses/>.

## Acknowledgment

- [Shadowsocks](https://github.com/shadowsocks/shadowsocks-android) by [Mygod](https://github.com/Mygod), [madeye](https://github.com/madeye), et al.
- [SagerNet](https://github.com/SagerNet/SagerNet) by [nekohasekai](https://github.com/nekohasekai) et al.
- [AnXray](https://github.com/XTLS/AnXray) by [nekohasekai](https://github.com/nekohasekai) et al.
- [Matsuri](https://github.com/MatsuriDayo/Matsuri) by [arm64v8a](https://github.com/arm64v8a) et al.
- [NekoBox](https://github.com/MatsuriDayo/NekoBoxForAndroid) by [arm64v8a](https://github.com/arm64v8a) et al.
- [husi](https://github.com/xchacha20-poly1305/husi) by [xchacha20-poly1305](https://github.com/xchacha20-poly1305) et al.
